<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Gallery â€” GNTT</title>
  <meta name="description" content="Masonry gallery of images and short reels with a lightbox slider." />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="canonical" href="https://example.com/gallery.html" />
  <link rel="stylesheet" href="/assets/css/base.css" />
  <link rel="stylesheet" href="/assets/css/layout.css" />
  <link rel="stylesheet" href="/assets/css/components.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css" />
  <meta property="og:title" content="GNTT Gallery" />
  <meta property="og:description" content="Browse trip photos and reels." />
  <meta property="og:image" content="https://example.com/assets/img/og-preview.jpg" />
  <meta property="og:url" content="https://example.com/gallery.html" />
</head>
<body>
  <header class="site-header sticky">
    <div class="container flex-between">
      <a href="/" class="brand"><img src="/assets/img/logo.png" alt="GNTT logo" width="120" height="36" /><span>GNTT</span></a>
      <nav class="nav">
        <a href="/">Home</a><a href="/services.html">Services</a><a href="/tours.html">Tours</a><a class="active" href="/gallery.html">Gallery</a><a href="/booking.html">Booking</a><a href="/contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <h1 data-aos="fade-up">Gallery</h1>
    <!-- Masonry using CSS columns for broad browser support -->
    <section class="masonry" aria-label="Travel photos and reels">
      <!-- Each item opens the lightbox Swiper -->
      <button class="m-item" data-src="/assets/img/g-1.jpg" aria-label="Open photo 1" data-aos="zoom-in">
        <img src="/assets/img/g-1-thumb.jpg" alt="Mountain view" loading="lazy" />
      </button>
      <button class="m-item" data-src="/assets/img/g-2.jpg" aria-label="Open photo 2" data-aos="zoom-in" data-aos-delay="50">
        <img src="/assets/img/g-2-thumb.jpg" alt="Beach sunset" loading="lazy" />
      </button>
      <button class="m-item" data-src="/assets/img/g-3.jpg" aria-label="Open photo 3" data-aos="zoom-in" data-aos-delay="100">
        <img src="/assets/img/g-3-thumb.jpg" alt="City skyline night" loading="lazy" />
      </button>
      <button class="m-item" data-src="/assets/img/g-4.jpg" aria-label="Open photo 4" data-aos="zoom-in" data-aos-delay="150">
        <img src="/assets/img/g-4-thumb.jpg" alt="Desert safari" loading="lazy" />
      </button>
      <!-- Short reels as poster thumbnails; open overlay to play -->
      <button class="m-item" data-video="/assets/img/reel-1.mp4" aria-label="Open reel 1" data-aos="zoom-in">
        <img src="/assets/img/reel-1-poster.jpg" alt="Reel poster 1" loading="lazy" />
      </button>
    </section>

    <!-- Lightbox Overlay using Swiper -->
    <div id="lightbox" class="overlay" role="dialog" aria-modal="true" aria-labelledby="lightboxTitle" hidden>
      <div class="overlay-content">
        <button class="overlay-close" data-close aria-label="Close gallery">&times;</button>
        <h2 id="lightboxTitle" class="visually-hidden">Gallery Viewer</h2>
        <div class="swiper lightbox-swiper">
          <div class="swiper-wrapper" id="lightboxWrapper"></div>
          <div class="swiper-pagination"></div>
          <div class="swiper-button-prev" aria-label="Prev"></div>
          <div class="swiper-button-next" aria-label="Next"></div>
        </div>
      </div>
    </div>
  </main>

  <footer class="site-footer">
    <div class="container legal">
      <small>&copy; <span id="year"></span> GNTT.</small>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js" defer></script>
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js" defer></script>
  <script src="/assets/js/main.js" defer></script>
  <script src="/assets/js/aos-init.js" defer></script>
  <script>
    // Simple lightbox powered by Swiper
    document.addEventListener('DOMContentLoaded', () => {
      const overlay = document.getElementById('lightbox');
      const wrapper = document.getElementById('lightboxWrapper');
      let lbSwiper;

      function openLightbox(items, startIndex = 0) {
        wrapper.innerHTML = items.map(item => {
          if (item.video) {
            return `<div class="swiper-slide"><video controls preload="metadata"><source src="${item.video}" type="video/mp4" /></video></div>`;
          }
          return `<div class="swiper-slide"><img src="${item.src}" alt="Gallery item" loading="lazy" /></div>`;
        }).join('');
        overlay.hidden = false;
        if (lbSwiper) lbSwiper.destroy(true, true);
        lbSwiper = new Swiper('.lightbox-swiper', {
          loop: true,
          lazy: true,
          initialSlide: startIndex,
          keyboard: { enabled: true },
          pagination: { el: '.lightbox-swiper .swiper-pagination', clickable: true },
          navigation: { nextEl: '.lightbox-swiper .swiper-button-next', prevEl: '.lightbox-swiper .swiper-button-prev' }
        });
      }

      const items = Array.from(document.querySelectorAll('.masonry .m-item')).map(btn => ({
        el: btn,
        src: btn.dataset.src,
        video: btn.dataset.video
      }));

      items.forEach((it, idx) => {
        it.el.addEventListener('click', () => openLightbox(items.map(x => ({ src: x.src, video: x.video })), idx));
      });

      overlay.addEventListener('click', (e) => {
        if (e.target.matches('[data-close]') || e.target === overlay) overlay.hidden = true;
      });
      overlay.addEventListener('keydown', (e) => { if (e.key === 'Escape') overlay.hidden = true; });
    });
  </script>
</body>
</html>
